<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8" />
<script type="application/javascript">
  function draw() {
      var canvas = document.getElementById("canvas");
      
        if (canvas.getContext) {
            var context = canvas.getContext("2d");
			//color of background olive
            context.fillStyle = "rgb(107,142,35)"; 
            context.fillRect (0, 0, 640, 640);
        }
          
        var map = [];
        for (var x = 0; x < 20; x++) {
            map[x] = [];
            for (var y = 0; y < 20; y++) 
                map[x][y] = {'x':x, 'y':y, 'wall':0};//generate empty spaces
        }
		// random generate wall
        for(var count=0; count<=99; count++){
                      
            var x = Math.floor(((Math.random() * 319) + 0)/16);
            var y = Math.floor(((Math.random() * 319) + 0)/16);  
                     
				//walls color - dark green	 
            context.fillStyle = "rgb(0,50,0)";
            context.fillRect (x*32, y*32, 32, 32);
            map[x][y] = {'x':x, 'y':y, 'wall':1};  //generate walls
        }
		
		//START
		var startPoint = {};
        while(map[x][y].wall!=0){
            //if not wall random generate startPoint
            x = Math.floor(((Math.random() * 319) + 0)/16);
            y = Math.floor(((Math.random() * 319) + 0)/16); 
            startPoint.x=x;
            startPoint.y=y;
            startPoint.wall=2; 
        }
			// startPoint color - red
        context.fillStyle = "rgb(255,0,0)";
        context.fillRect (x*32, y*32, 32, 32);
        map[x][y].wall = 2; //startPoint
		
		//TARGET
               var targetPoint = {};
        targetPoint.x = 2;
        targetPoint.y = 2;
            // targetPoint color - light blue
        context.fillStyle = "rgb(0,255,255)";
        context.fillRect (targetPoint.x*32, targetPoint.y*32, 32, 32);
        map[targetPoint.x][targetPoint.y].wall = 3; //targetPoint
		
		findThePath(map, startPoint, targetPoint);
    }

    function heuristic(pos0, pos1) {
        
        var dlX = Math.abs(pos1.x - pos0.x);
        var dlY = Math.abs(pos1.y - pos0.y);
        var length = Math.floor(Math.sqrt((dlX * dlX) + (dlY * dlY)));
       
        return length;      
    }
      
    function neighbors(map, node) {
        var setOfCoordinates = [];
        var x = node.x;
        var y = node.y;
    
        if((x-1)>=0){
            if(map[x-1][y].wall!=1){
                setOfCoordinates.push(map[x - 1][y]);
            }
        }
        if((x+1)<=19){
            if (map[x+1][y].wall!=1) {
                setOfCoordinates.push(map[x + 1][y]);
            }
        }
        if((y-1)>=0){
            if (map[x][y-1].wall!=1) { 
                setOfCoordinates.push(map[x][y - 1]);
            }
        }
        if((y+1)<=19){
            if (map[x][y+1].wall!=1) {
                setOfCoordinates.push(map[x][y + 1]);
            }
        }
        return setOfCoordinates;
    }
   </script>
</head>
<body>
	<button onclick="draw()">Click to generate the map</button>

	<canvas id="canvas" width="640" height="640">
 </canvas>
</body>
</html>
